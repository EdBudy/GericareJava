spring.application.name=Gericare

# ===============================
# CONFIGURACIÓN DE BASE DE DATOS
# ===============================
spring.datasource.url=jdbc:postgresql://localhost:5432/gericare
spring.datasource.username=gericare
spring.datasource.password=.
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# CONFIGURACIÓN JPA / HIBERNATE
# ===============================
# IMPORTANTE: Usa 'update' para que NO se borren tus usuarios al reiniciar la app.
# Si usas 'create', perderás los usuarios cada vez que hagas un cambio en el código.
spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# ===============================
# THYMELEAF (FRONTEND)
# ===============================
# Desactiva caché para ver cambios en HTML sin reiniciar
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
logging.level.org.thymeleaf=TRACE

# ===============================
# CONFIGURACIÓN DE EMAIL (GMAIL)
# ===============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=connectgericare@gmail.com
# Contraseña de aplicación (Asegúrate de que sea correcta)
spring.mail.password=pqvg qjoq yeio wlau

spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.from=connectgericare@gmail.com

# Debug para ver en consola si el correo sale o falla
spring.mail.properties.mail.debug=true

# =======================================================
# VARIABLE CRÍTICA PARA EL LINK DE RECUPERACIÓN
# =======================================================
# Esta es la variable que usa UsuarioServiceImpl.java
# 1. En tu PC (Desarrollo):
app.base.url=http://localhost:8080

# 2. CUANDO LO SUBAS A INTERNET (Producción):
# Tienes que cambiar la línea de arriba por tu dominio real, ejemplo:
# app.base.url=https://gericare-connect.railway.app
